# AWS Cognito Configuration
quarkus.oidc.auth-server-url=https://cognito-idp.eu-central-1.amazonaws.com/eu-central-1_Ys59tXWPU
quarkus.oidc.client-id=5gu1ae1b03jfmi50upcb413kat
# IMPORTANT: Replace YOUR_CLIENT_SECRET with the actual secret from AWS Cognito Console -> App Client
quarkus.oidc.credentials.secret=${QUARKUS_OIDC_CREDENTIALS_SECRET}
quarkus.oidc.application-type=web-app
quarkus.oidc.authentication.fail-on-missing-state-param=false
quarkus.http.port=8080

# Map claims
quarkus.oidc.token.principal-claim=email
quarkus.oidc.roles.role-claim-path=cognito:groups

# Security Rules
quarkus.http.auth.permission.public.paths=/,/hello,/logout,/favicon.ico
quarkus.http.auth.permission.public.policy=permit
quarkus.http.auth.permission.protected.paths=/user,/login,/api/v1/graphql
quarkus.http.auth.permission.protected.policy=authenticated

# Cognito domain for custom logout endpoint (LogoutResource.java)
cognito.domain=eu-central-1ys59txwpu.auth.eu-central-1.amazoncognito.com

# Frontend URL used after login/logout completion
app.frontend-base-url=http://localhost:4200
app.test.disallowed-usernames=aqdisallowed1,aqdisallowed2,aqdisallowed3,aqdisallowed4,aqtestadmin,fakeuser,fakeuser2,aqtestregularuser,aqtestowneruser,aqtestnopermissionstestuser

# Cookie path for OIDC session
quarkus.oidc.authentication.cookie-path=/
quarkus.oidc.token.refresh-expired=true
quarkus.oidc.authentication.session-age-extension=12H

# Versioned GraphQL API endpoint
quarkus.smallrye-graphql.root-path=/api/v1/graphql

# AWS Cognito admin API settings
aws.region=eu-central-1
cognito.user-pool-id=eu-central-1_Ys59tXWPU

# Test port (dev server uses 8080)
quarkus.http.test-port=8081


# CORS Configuration
quarkus.http.cors.enabled=true
quarkus.http.cors.origins=http://localhost:4200,https://angular-quarkus-demo.awstom.click
quarkus.http.cors.access-control-allow-credentials=true
quarkus.http.cors.methods=GET,PUT,POST,DELETE,OPTIONS,HEAD
quarkus.http.cors.headers=accept, authorization, content-type, x-requested-with
