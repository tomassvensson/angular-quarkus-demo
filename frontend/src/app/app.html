<div class="layout">
  <header class="topbar">
    <div class="brand">{{ title() }}</div>
    <nav class="menu">
      <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">Home</a>
      @if (isAdmin()) {
        <a routerLink="/users" routerLinkActive="active">List Users</a>
      }
      @if (isSignedIn()) {
        <a routerLink="/public-lists" routerLinkActive="active">Public Lists</a>
        <a routerLink="/my-lists" routerLinkActive="active">My Lists</a>
        <a routerLink="/profile" routerLinkActive="active">Profile</a>
      }
      @if (!isSignedIn()) {
        <a class="menu-action" [href]="signInUrl">Sign in</a>
      }
      @if (isSignedIn()) {
        <a class="menu-action" [href]="signOutUrl">Sign out</a>
      }
    </nav>
  </header>

  <section class="status">
    @if (loading()) {
      <span>Loading user...</span>
    } @else if (me()) {
      <span>Signed in as <strong>{{ me()?.username }}</strong></span>
      <span>Roles: {{ me()?.roles?.join(', ') }}</span>
    } @else {
      <span>Not signed in</span>
    }
  </section>

  <main class="content">
    <router-outlet></router-outlet>
  </main>
</div>
