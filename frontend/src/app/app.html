<div class="layout">
  <header class="topbar">
    <div class="brand">{{ title() }}</div>
    <nav class="menu">
      <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">{{ i18n.t('nav.home') }}</a>
      @if (isAdmin()) {
        <a routerLink="/users" routerLinkActive="active">{{ i18n.t('nav.listUsers') }}</a>
      }
      @if (isSignedIn()) {
        <a routerLink="/public-lists" routerLinkActive="active">{{ i18n.t('nav.publicLists') }}</a>
        <a routerLink="/my-lists" routerLinkActive="active">{{ i18n.t('nav.myLists') }}</a>
        <a routerLink="/profile" routerLinkActive="active">{{ i18n.t('nav.profile') }}</a>
        <app-notification-bell />
      }
      <app-language-selector />
      <app-theme-toggle />
      @if (!isSignedIn()) {
        <a class="menu-action" [href]="signInUrl">{{ i18n.t('nav.signIn') }}</a>
      }
      @if (isSignedIn()) {
        <a class="menu-action" [href]="signOutUrl">{{ i18n.t('nav.signOut') }}</a>
      }
    </nav>
  </header>

  <section class="status">
    @if (loading()) {
      <span>{{ i18n.t('status.loading') }}</span>
    } @else if (me()) {
      <span>{{ i18n.t('status.signedInAs') }} <strong>{{ me()?.username }}</strong></span>
      <span>{{ i18n.t('status.roles') }}: {{ me()?.roles?.join(', ') }}</span>
    } @else {
      <span>{{ i18n.t('status.notSignedIn') }}</span>
    }
  </section>

  <main class="content">
    <router-outlet></router-outlet>
  </main>

  <app-toast-container />
</div>
